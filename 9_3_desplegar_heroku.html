<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    <link rel="canonical" href="https://vivesjesus.github.io/iaw/9_3_desplegar_heroku.html">
    <link rel="shortcut icon" href="./img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>9.3 Despliegue de aplicación flask en un PaaS Heroku - IMPLANTACIÓN APLICACIONES WEB</title>
    <link href="./css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="./css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="./css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="./css/highlight.css">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="./js/jquery-3.2.1.min.js"></script>
    <script src="./js/bootstrap-3.3.7.min.js"></script>
    <script src="./js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '.';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "Despliegue de aplicaci\u00f3n flask en un PaaS Heroku", url: "#_top", children: [
              {title: "Preparativos previos", url: "#preparativos-previos" },
              {title: "Creamos una nueva aplicaci\u00f3n en heroku", url: "#creamos-una-nueva-aplicacion-en-heroku" },
              {title: "Conectamos nuestro proyecto a GitHub", url: "#conectamos-nuestro-proyecto-a-github" },
          ]},
        ];

    </script>
    <script src="./js/base.js"></script>
      <script src="search/main.js"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="9_4_desplegar_docker.html" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="9_4_desplegar_docker.html" class="btn btn-xs btn-link">
        9.4 Despliegue de aplicación flask en un contenedor docker
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="9_2_desplegar_anywhere.html" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="9_2_desplegar_anywhere.html" class="btn btn-xs btn-link">
        9.2 Despliegue de aplicación flask en hosting pythonanywhere
      </a>
    </div>
    
  </div>

    

    <h1 id="despliegue-de-aplicacion-flask-en-un-paas-heroku">Despliegue de aplicación flask en un PaaS Heroku<a class="headerlink" href="#despliegue-de-aplicacion-flask-en-un-paas-heroku" title="Permanent link">&para;</a></h1>
<p>En esta unidad vamos a desplegar nuestra aplicación web desarrollada en python utilizando el framework flask utilizando sólo la aplicación web Heroku (Heroku Dashboard) (no vamos a utilizar el comando <code>heroku-cli</code>).</p>
<p><a href="https://www.heroku.com/">Heroku</a> es una aplicación que nos ofrece un servicio de Cloud Computing <a href="https://en.wikipedia.org/wiki/Platform_as_a_service">PaaS</a> (Plataforma como servicio). Como leemos en la Wikipedia es propiedad de Salesforce.com y es una de las primeras plataformas de computación en la nube, que fue desarrollada desde junio de 2007, con el objetivo de soportar solamente el lenguaje de programación Ruby, pero posteriormente se ha extendido el soporte a Java, Node.js, Scala, Clojure y Python y PHP. La funcionalidad ofrecida por heroku esta disponible con el uso de dynos, que son una adaptación de los contenedores Linux y nos ofrecen la capacidad de computo dentro de la plataforma.</p>
<p>Vamos a utilizar la capa gratuita de Horoku:</p>
<ul>
<li>Podemos crear un dyno, que puede ejecutar un máximo de dos tipos de procesos.</li>
<li>Nuestro dyno utiliza 512 Mb de RAM</li>
<li>Tras 30 minutos de inactividad el dyno se para (sleep), además debe estar parado 6 horas cada 24 horas.</li>
<li>Podemos utilizar una base de datos postgreSQL con no más de 10.000 registros</li>
<li>Para más información: <a href="https://www.heroku.com/pricing#dynos-table-modal">planes ofrecido por heroku</a></li>
</ul>
<h2 id="preparativos-previos">Preparativos previos<a class="headerlink" href="#preparativos-previos" title="Permanent link">&para;</a></h2>
<ul>
<li>Tenemos que crear una cuenta gratuita en Heroku (singup)</li>
<li>En el repositorio github de nuestra aplicación hemos creado un nuevo fichero:<ul>
<li><code>Procfile</code>: En este fichero se define el proceso que va a ejecutar el dyno. Para más información: <a href="https://devcenter.heroku.com/articles/procfile">Process Types and the Procfile</a></li>
</ul>
</li>
</ul>
<h2 id="creamos-una-nueva-aplicacion-en-heroku">Creamos una nueva aplicación en heroku<a class="headerlink" href="#creamos-una-nueva-aplicacion-en-heroku" title="Permanent link">&para;</a></h2>
<p><img alt="heroku" src="img/heroku.png" /></p>
<p>Tenemos que indicar un nombre único. La URL de nuestra aplicación será: https://tiendavideojuegos.herokuapp.com</p>
<h2 id="conectamos-nuestro-proyecto-a-github">Conectamos nuestro proyecto a GitHub<a class="headerlink" href="#conectamos-nuestro-proyecto-a-github" title="Permanent link">&para;</a></h2>
<p>El contenido que vamos a desplegar en nuestro proyecto se va a copiar desde el repositorio donde tenemos nuestra aplicación, para ello desde la pestaña <strong>Deploy</strong> vamos a escoger la opción: <strong>Connect to GitHub</strong>.</p>
<p><img alt="heroku2" src="img/heroku2.png" /> </p>
<p>A continuación desde GitHub le tenemos que dar permiso a la aplicación Heroku, para que accede a nuestros repositorios:</p>
<p><img alt="heroku3" src="img/heroku3.png" /> </p>
<p>Ahora tenemos que conectar el repositorio donde tenemos nuestra aplicación:</p>
<p><img alt="heroku4" src="img/heroku4.png" /> </p>
<p>Tenemos a nuestra disposición dos maneras de hacer los despliegues:</p>
<ul>
<li>Automáticos: Esta opción la podemos habilitar. Cada vez que hagamos un commit en nuestro repositorio GitHub, heroku va  a desplegar la aplicación. Tenemos que elegir la rama que se va desplegar de forma automática.</li>
<li>Manual: Elegimos la rama que vamos a desplegar y pulsamos el botón <strong>Deploy Branch</strong></li>
</ul>
<p><img alt="heroku5" src="img/heroku5.png" /> </p>
<p>Veamos un ejemplo de despliegue manual:</p>
<p><img alt="heroku6" src="img/heroku6.png" /> </p>
<p>Y accedemos a la página:</p>
<p><img alt="heroku7" src="img/heroku7.png" /> </p>
<p>Por último indicar que podemos ejecutar un terminal en el dyno para ejecutar cualquier instrucción. Para ello seleccionamos la opción <strong>Run console</strong> de la opción <strong>More</strong> y ejecutamos <code>heroku run bash</code>:</p>
<p><img alt="heroku8" src="img/heroku8.png" /> </p>

  <br>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="9_4_desplegar_docker.html" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="9_4_desplegar_docker.html" class="btn btn-xs btn-link">
        9.4 Despliegue de aplicación flask en un contenedor docker
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="9_2_desplegar_anywhere.html" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="9_2_desplegar_anywhere.html" class="btn btn-xs btn-link">
        9.2 Despliegue de aplicación flask en hosting pythonanywhere
      </a>
    </div>
    
  </div>

    <br>
</div>

<footer class="container-fluid wm-page-content"><p>2022-2023 Jesús Vives - Licencia CC BY-NC-SA</p>
  <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>